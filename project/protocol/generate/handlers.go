// Code generated by protocol/pb_generate.go; DO NOT EDIT.

package protocol

import (
	"google.golang.org/protobuf/proto"
	"server/protocol/generate/pb"
	"server/frame"
)

var CSHandlerObj *CSHandler
var CSHandlerMap map[int32]frame.HandlerFunc

func init()  {
	CSHandlerObj = &CSHandler{}
	CSHandlerMap = map[int32]frame.HandlerFunc{
		1 : CSHandlerObj.OnHandlerLogin,
		2 : CSHandlerObj.OnHandlerCommon,
	}
}
type CSHandler struct {
	HandlerLogin func(req *pb.LoginC2S) error
	HandlerCommon func(req *pb.CommonC2S) error
}

func (h *CSHandler) OnHandlerLogin(mq frame.IMsgQue, body []byte) bool {
	req := &pb.LoginC2S{}
	if err := proto.Unmarshal(body, req); err != nil {
		frame.LogError("Failed to unmarshal protoId: 1, err: %v", err)
		return false
	}
	frame.LogDebug("Received protoId: 1, req: %v", req.String())
	if err := h.HandlerLogin(req); err != nil {
		frame.LogError("Failed to handle protoId: 1, err: %v", err)
		return false
	}
	return true
}

func (h *CSHandler) OnHandlerCommon(mq frame.IMsgQue, body []byte) bool {
	req := &pb.CommonC2S{}
	if err := proto.Unmarshal(body, req); err != nil {
		frame.LogError("Failed to unmarshal protoId: 2, err: %v", err)
		return false
	}
	frame.LogDebug("Received protoId: 2, req: %v", req.String())
	if err := h.HandlerCommon(req); err != nil {
		frame.LogError("Failed to handle protoId: 2, err: %v", err)
		return false
	}
	return true
}
